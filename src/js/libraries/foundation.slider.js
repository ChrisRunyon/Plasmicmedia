!function($,window,document,undefined){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.3",settings:{start:0,end:100,step:1,precision:2,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(scope,method,options){Foundation.inherit(this,"throttle"),this.bindings(method,options),this.reflow()},events:function(){var self=this;$(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+self.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(e){self.cache.active||(e.preventDefault(),self.set_active_slider($(e.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(e){if(self.cache.active)if(e.preventDefault(),$.data(self.cache.active[0],"settings").vertical){var scroll_offset=0;e.pageY||(scroll_offset=window.scrollY),self.calculate_position(self.cache.active,self.get_cursor_position(e,"y")+scroll_offset)}else self.calculate_position(self.cache.active,self.get_cursor_position(e,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(e){if(!self.cache.active){var slider="slider"===$(e.target).attr("role")?$(e.target):$(e.target).closest(".range-slider").find("[role='slider']");if(slider.length&&!slider.parent().hasClass("disabled")&&!slider.parent().attr("disabled"))if(self.set_active_slider(slider),$.data(self.cache.active[0],"settings").vertical){var scroll_offset=0;e.pageY||(scroll_offset=window.scrollY),self.calculate_position(self.cache.active,self.get_cursor_position(e,"y")+scroll_offset)}else self.calculate_position(self.cache.active,self.get_cursor_position(e,"x"))}self.remove_active_slider()}).on("change.fndtn.slider",function(e){self.settings.on_change()}),self.S(window).on("resize.fndtn.slider",self.throttle(function(e){self.reflow()},300)),this.S("["+this.attr_name()+"]").each(function(){var slider=$(this),handle=slider.children(".range-slider-handle")[0],settings=self.initialize_settings(handle);""!=settings.display_selector&&$(settings.display_selector).each(function(){$(this).attr("value")&&$(this).off("change").on("change",function(){slider.foundation("slider","set_value",$(this).val())})})})},get_cursor_position:function(e,xy){var position,pageXY="page"+xy.toUpperCase(),clientXY="client"+xy.toUpperCase();return"undefined"!=typeof e[pageXY]?position=e[pageXY]:"undefined"!=typeof e.originalEvent[clientXY]?position=e.originalEvent[clientXY]:e.originalEvent.touches&&e.originalEvent.touches[0]&&"undefined"!=typeof e.originalEvent.touches[0][clientXY]?position=e.originalEvent.touches[0][clientXY]:e.currentPoint&&"undefined"!=typeof e.currentPoint[xy]&&(position=e.currentPoint[xy]),position},set_active_slider:function($handle){this.cache.active=$handle},remove_active_slider:function(){this.cache.active=null},calculate_position:function($handle,cursor_x){var self=this,settings=$.data($handle[0],"settings"),bar_l=($.data($handle[0],"handle_l"),$.data($handle[0],"handle_o"),$.data($handle[0],"bar_l")),bar_o=$.data($handle[0],"bar_o");requestAnimationFrame(function(){var pct;pct=Foundation.rtl&&!settings.vertical?self.limit_to((bar_o+bar_l-cursor_x)/bar_l,0,1):self.limit_to((cursor_x-bar_o)/bar_l,0,1),pct=settings.vertical?1-pct:pct;var norm=self.normalized_value(pct,settings.start,settings.end,settings.step,settings.precision);self.set_ui($handle,norm)})},set_ui:function($handle,value){var settings=$.data($handle[0],"settings"),handle_l=$.data($handle[0],"handle_l"),bar_l=$.data($handle[0],"bar_l"),norm_pct=this.normalized_percentage(value,settings.start,settings.end),handle_offset=norm_pct*(bar_l-handle_l)-1,progress_bar_length=100*norm_pct,$handle_parent=$handle.parent(),$hidden_inputs=$handle.parent().children("input[type=hidden]");Foundation.rtl&&!settings.vertical&&(handle_offset=-handle_offset),handle_offset=settings.vertical?-handle_offset+bar_l-handle_l+1:handle_offset,this.set_translate($handle,handle_offset,settings.vertical),settings.vertical?$handle.siblings(".range-slider-active-segment").css("height",progress_bar_length+"%"):$handle.siblings(".range-slider-active-segment").css("width",progress_bar_length+"%"),$handle_parent.attr(this.attr_name(),value).trigger("change.fndtn.slider"),$hidden_inputs.val(value),settings.trigger_input_change&&$hidden_inputs.trigger("change.fndtn.slider"),$handle[0].hasAttribute("aria-valuemin")||$handle.attr({"aria-valuemin":settings.start,"aria-valuemax":settings.end}),$handle.attr("aria-valuenow",value),""!=settings.display_selector&&$(settings.display_selector).each(function(){this.hasAttribute("value")?$(this).val(value):$(this).text(value)})},normalized_percentage:function(val,start,end){return Math.min(1,(val-start)/(end-start))},normalized_value:function(val,start,end,step,precision){var range=end-start,point=val*range,mod=(point-point%step)/step,rem=point%step,round=rem>=.5*step?step:0;return(mod*step+round+start).toFixed(precision)},set_translate:function(ele,offset,vertical){vertical?$(ele).css("-webkit-transform","translateY("+offset+"px)").css("-moz-transform","translateY("+offset+"px)").css("-ms-transform","translateY("+offset+"px)").css("-o-transform","translateY("+offset+"px)").css("transform","translateY("+offset+"px)"):$(ele).css("-webkit-transform","translateX("+offset+"px)").css("-moz-transform","translateX("+offset+"px)").css("-ms-transform","translateX("+offset+"px)").css("-o-transform","translateX("+offset+"px)").css("transform","translateX("+offset+"px)")},limit_to:function(val,min,max){return Math.min(Math.max(val,min),max)},initialize_settings:function(handle){var decimal_places_match_result,settings=$.extend({},this.settings,this.data_options($(handle).parent()));return null===settings.precision&&(decimal_places_match_result=(""+settings.step).match(/\.([\d]*)/),settings.precision=decimal_places_match_result&&decimal_places_match_result[1]?decimal_places_match_result[1].length:0),settings.vertical?($.data(handle,"bar_o",$(handle).parent().offset().top),$.data(handle,"bar_l",$(handle).parent().outerHeight()),$.data(handle,"handle_o",$(handle).offset().top),$.data(handle,"handle_l",$(handle).outerHeight())):($.data(handle,"bar_o",$(handle).parent().offset().left),$.data(handle,"bar_l",$(handle).parent().outerWidth()),$.data(handle,"handle_o",$(handle).offset().left),$.data(handle,"handle_l",$(handle).outerWidth())),$.data(handle,"bar",$(handle).parent()),$.data(handle,"settings",settings)},set_initial_position:function($ele){var settings=$.data($ele.children(".range-slider-handle")[0],"settings"),initial="number"!=typeof settings.initial||isNaN(settings.initial)?Math.floor(.5*(settings.end-settings.start)/settings.step)*settings.step+settings.start:settings.initial,$handle=$ele.children(".range-slider-handle");this.set_ui($handle,initial)},set_value:function(value){var self=this;$("["+self.attr_name()+"]",this.scope).each(function(){$(this).attr(self.attr_name(),value)}),$(this.scope).attr(self.attr_name())&&$(this.scope).attr(self.attr_name(),value),self.reflow()},reflow:function(){var self=this;self.S("["+this.attr_name()+"]").each(function(){var handle=$(this).children(".range-slider-handle")[0],val=$(this).attr(self.attr_name());self.initialize_settings(handle),val?self.set_ui($(handle),parseFloat(val)):self.set_initial_position($(this))})}}}(jQuery,window,window.document);